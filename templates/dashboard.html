{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Seção: Suas Reações (anonimizadas) -->
    <div class="card">
        <h2><i class="fas fa-user-secret"></i> Suas Reações Secretas</h2>
        {% if my_reactions %}
            <div class="reactions-grid">
                {% for reaction in my_reactions %}
                    <div class="reaction-card">
                        <span class="emoji-big">{{ reaction['reaction'] }}</span>
                        <span class="count">x{{ reaction['count'] }}</span>
                    </div>
                {% endfor %}
            </div>
            <p class="hint"><i class="fas fa-info-circle"></i> Você não pode ver quem enviou estas reações</p>
        {% else %}
            <p>Você ainda não recebeu nenhuma reação.</p>
        {% endif %}
    </div>

    <!-- Seção: Ranking Geral (visível a todos) -->
    <div class="card">
        <h2><i class="fas fa-chart-bar"></i> Ranking Geral</h2>
        <table class="ranking-table">
            <thead>
                <tr>
                    <th>Participante</th>
                    <th>Reação</th>
                    <th>Quantidade</th>
                </tr>
            </thead>
            <tbody>
                {% for reaction in all_reactions %}
                    <tr>
                        <td>{{ reaction['username'] }}</td>
                        <td class="emoji-cell">{{ reaction['reaction'] }}</td>
                        <td>{{ reaction['count'] }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
